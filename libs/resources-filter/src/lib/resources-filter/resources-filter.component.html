<div class="nav-divider"></div>
<form [formGroup]="filter">
  <ng-container *ngIf="formats">
    <section formGroupName="formats">
      <p class="p4">Formats</p>
      <div
        class="toggle-switch"
        *ngFor="let format of (filterFormGroups.availableFormats | keyvalue)"
      >
        <input
          type="checkbox"
          [formControlName]="format.value.id"
          [id]="format.value.id"
        />
        <label [for]="format.value.id">{{ format.value.title }}</label>
      </div>
      <button class="btn btn-sm btn-link" (click)="resetControl('formats')">
        Reset Formats
      </button>
    </section>
  </ng-container>
  <ng-container *ngIf="topics">
    <section formGroupName="topics">
      <p class="p4">Topics</p>
      <div
        class="toggle-switch"
        *ngFor="let topic of (filterFormGroups.availableTopics | keyvalue)"
      >
        <input
          type="checkbox"
          [formControlName]="topic.value.id"
          [id]="topic.value.id"
        />
        <label [for]="topic.value.id">{{ topic.value.title }}</label>
      </div>
      <button class="btn btn-sm btn-link" (click)="resetControl('topics')">
        Reset Topics
      </button>
    </section>
  </ng-container>
  <ng-container *ngIf="difficulties">
    <section formGroupName="difficulties">
      <p class="p4">Difficulties</p>
      <div
        class="toggle-switch"
        *ngFor="
          let difficulty of (filterFormGroups.availableDifficulties
            | keyvalue
            | pentacleResourcesFilterDifficultiesSort)
        "
      >
        <input
          type="checkbox"
          [formControlName]="difficulty.value.id"
          [id]="difficulty.value.id"
        />
        <label [for]="difficulty.value.id">
          {{ difficulty.value.title }}
        </label>
      </div>
      <button
        class="btn btn-sm btn-link"
        (click)="resetControl('difficulties')"
      >
        Reset Difficulties
      </button>
    </section>
  </ng-container>
</form>
